<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>ultimate_password</title>
</head>
<style type="text/css">
    body {
            margin: 0;
            padding: 0;
            background: linear-gradient(to right, #CBCE91FF, rgb(188, 255, 254));
        }
    .style1 {
        text-align: center;
    }

    .style2 {
        border-style: solid;
        border-width: 1px;
        width: 50% ;
        
    }

    .style3 {
        border-width: 1px;
        width: 33.3333%;
    }

    .style4 {
        width: 70%;
        justify-content: space-around;
    }

    .style6 {
        letter-spacing: 2px;
    }

    .style7 {
        letter-spacing: 2px;
    }

    .style8 {
        line-height: 200%;
    }

    .style9 {
        letter-spacing: 2px;
    }

    .style10 {
        line-height: 200%;
        text-align: center;
    }

    .style11 {
        font-family: 微軟正黑體;
    }
    .container{
        width: 1200px;
        justify-content: center;
    }
</style>

</head>

<body >
<div class="container">
    <div class="style1">
        <p class="style10">AB猜數字</p>
        <p class="style8"><span class="style6">先按開始鍵，再鍵入四個數字猜數</span><span
                class="style7">。如果猜對一個數字且位置相同，則得1A。如果猜對一個數字，但是位置不同，則得1B。目標是猜數得4A。</span><span class="style9"><br>
            </span></p>
    </div>
    <table class="style4"  align="center">
        <form name="guess">
            <div class="style12">
                <table border="2" bgcolor="#FFCC66">
                    <tbody>
                        <tr>
                            <!-- area1 -->
                            <td class="style3" bgcolor="#FFCC66" align="center" >
                                <textarea name="accLOGS" onfocus="document.guess.accLOGS.blur()"
                                    style="width: 272px; height: 311px">請先按開始[開始]鍵!!
                                </textarea>
                                <input onclick="Zeroguess()" type="button" value="重  來"
                                    style="font-size:medium; border :4px red double; width: 94px; height: 48px;">　&nbsp;&nbsp;
                                <input onclick="Startguess()" type="button" value="開  始"
                                    style="font-size:medium; border :4px red double; width: 94px; height: 48px;">　&nbsp;&nbsp;
                                <input onclick="Pauseguess()" type="button" value="停  止"
                                    style="font-size:medium;border:4px red double; width: 94px; height: 48px;;">　&nbsp;&nbsp;
                            </td>
                            <!-- area2 -->
                            <td class="style3" bgcolor="#FFCC66"  align="center" >
                                <div class="style1">
                                    &nbsp;&nbsp; 猜數次數<span class="style11">︰</span> <input
                                        name="accCOUNT" onfocus="document.guess.accCOUNT.blur()"
                                        size="4" value="0">
                                    次<br>
                                    <br>
                                    &nbsp;
                                    時間<span class="style11">︰</span> <input name="accTIMER"
                                        onfocus="document.guess.accTIMER.blur()" size="4" value="0">
                                    秒
                                </div>
                                <br>
                                <p class="style1">&nbsp; 顯示幾A幾B<span class="style11">︰</span> <input
                                        name="DISPLAY" onfocus="document.guess.DISPLAY.blur()" size="4"
                                        value="****">
                                <p class="style1">&nbsp;<br>
                                    &nbsp;&nbsp;
                                    輸入四個數字<span class="style11">︰</span> <input maxLength="4"
                                        name="LOADING" onchange="KeyIn()" size="8">
                            </td>
                            <!-- area3 -->
                            <td  class="style3" align="center" >
                                <table class="style2" >
                                    <tbody>
                                        <tr>
                                            <td><input onclick="entry('1')" type="button" value="１　">
                                            </td>
                                            <td><input onclick="entry('2')" type="button" value="２　">
                                            </td>
                                            <td><input onclick="entry('3')" type="button" value="３　">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><input onclick="entry('4')" type="button" value="４　">
                                            </td>
                                            <td><input onclick="entry('5')" type="button" value="５　">
                                            </td>
                                            <td><input onclick="entry('6')" type="button" value="６　">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><input onclick="entry('7')" type="button" value="７　">
                                            </td>
                                            <td><input onclick="entry('8')" type="button" value="８　">
                                            </td>
                                            <td bgcolor="#FFCC66"><input onclick="entry('9')"
                                                    type="button" value="９　"> </td>
                                        </tr>
                                        <tr>
                                            <td><input onclick="entry('C')" type="button" value="清除">
                                            </td>
                                            <td><input onclick="entry('0')" type="button" value="０　">
                                            </td>
                                            <td><input onclick="entry('B')" type="button" value="輸入">
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </form>
    </table>
</div>
        <script>
            guessFlag = false
            guessCount = 0
            guessTimer = 0
            guessLogs = '開始'
            RecordLogs = ''
            guessValue = ''
            guessCheck = '----'
            guessInput = ''
            function Zeroguess() {
                if (guessFlag) {
                    guessLogs = '---遊戲重來---\r\n'
                    document.guess.accLOGS.value = guessLogs
                    alert('歸零')
                    guessFlag = false
                }
            }
            function Pauseguess() {
                if (guessFlag) {
                    guessLogs = '---遊戲結束---\r\n'
                    document.guess.accLOGS.value = guessLogs
                    alert('遊戲結束')
                    guessFlag = false
                }
            }
            function Startguess() {
                if (guessFlag) {
                    alert('遊戲尚未結束')
                }
                else {
                    var guessClock = new Date()
                    guessTimer = guessClock.getTime()
                    guessFlag = true
                    guessCheck = '----'
                    guessCount = 1
                    guessInput = ''
                    guessLogs = '---遊戲開始計時---\r\n'
                    RecordLogs = '\r\n'
                    NumberCreat()
                    document.guess.accLOGS.value = guessLogs
                    document.guess.accCOUNT.value = guessCount
                    document.guess.accTIMER.value = guessTimer
                    document.guess.DISPLAY.value = guessCheck
                    document.guess.LOADING.value = guessInput
                    document.guess.LOADING.focus()
                    LoopTimer()
                }
            }
            function LoopTimer() {
                if (guessFlag) {
                    var NowTimer = new Date()
                    var Now = Math.round((NowTimer.getTime() - guessTimer) / 1000)
                    document.guess.accTIMER.value = Now
                    setTimeout('LoopTimer()', 1000)
                }
            }
            function NumberCreat() {
                guessValue = ''
                var NumSeed = new Array()
                for (var i = 0; i < 10; i++) { NumSeed[i] = i }
                for (var i = 0; i < 8; i++) {
                    var j = Math.floor(Math.random() * 10)
                    while (NumSeed[j] == -1) { if (j == 9) { j = 0 } else { j++ } }
                    guessValue += NumSeed[j]
                    NumSeed[j] = -1
                }
            }
            function entry(x) {
                if (guessFlag) {
                    if (x >= '0' && x <= '9') { guessInput = '' + guessInput + x }
                    else if (x == 'C') { guessInput = '' }
                    else if (x == 'B') {
                        if (guessInput != '') { guessInput = guessInput.substring(0, guessInput.length - 1) }
                    }
                    document.guess.LOADING.value = guessInput
                    if (guessInput.length == 4) LoadCheck()
                }
                else {
                    alert('請先按開始[開始]鍵!')
                }
            }
            function KeyIn() {
                if (guessFlag) {
                    guessInput = '' + document.guess.LOADING.value
                    if (guessInput.length == 4) LoadCheck()
                }
                else {
                    document.guess.LOADING.value = ''
                    alert('請先按開始[開始]鍵!')
                }
            }
            function LoadCheck() {
                var guessKey = guessInput
                guessInput = ''
                var Value_A = 0
                var Value_B = 0
                for (var i = 0; i < 4; i++) {
                    if (guessKey.charAt(i) == guessValue.charAt(i)) { Value_A++ }
                }
                for (var i = 0; i < 4; i++) {
                    for (var j = 0; j < 4; j++) {
                        if (guessKey.charAt(i) == guessValue.charAt(j)) { Value_B++ }
                    }
                }
                Value_B -= Value_A
                guessCheck = '' + Value_A + 'A' + Value_B + 'B'
                var WorkString = '' + guessCount + '-'
                    + guessKey + '-'
                    + guessCheck + '-' + "第"
                    + document.guess.accTIMER.value + "秒" + '\r\n'
                var KeepString = '在第' + document.guess.accTIMER.value + '秒時-'
                    + '猜第' + guessCount + '次-'
                    + '猜數' + guessKey + '-'
                    + '結果' + guessCheck + '\r\n'
                if (Value_A == 4) {
                    WorkString = '恭喜過關!\r\n' + WorkString
                    KeepString += '順利過關!\r\n'
                    guessFlag = false
                }
                guessCount++
                guessLogs = WorkString + guessLogs
                RecordLogs += KeepString
                document.guess.accCOUNT.value = guessCount
                document.guess.DISPLAY.value = guessCheck
                document.guess.LOADING.value = guessInput
                document.guess.accLOGS.value = guessLogs
            }
            //-->
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>

</html>